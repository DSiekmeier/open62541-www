

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Types &mdash; open62541 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="open62541 1 documentation" href="index.html"/>
        <link rel="next" title="Standard-Defined Constants" href="constants.html"/>
        <link rel="prev" title="Examining and interacting with node relations" href="tutorial_noderelations.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> open62541
          

          
            
            <img src="_static/open62541_html.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="in_a_nutshell.html">Introduction to OPC UA</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building the Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#builtin-types-part-1">Builtin Types Part 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#boolean">Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sbyte">SByte</a></li>
<li class="toctree-l3"><a class="reference internal" href="#byte">Byte</a></li>
<li class="toctree-l3"><a class="reference internal" href="#int16">Int16</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uint16">UInt16</a></li>
<li class="toctree-l3"><a class="reference internal" href="#int32">Int32</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uint32">UInt32</a></li>
<li class="toctree-l3"><a class="reference internal" href="#int64">Int64</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uint64">UInt64</a></li>
<li class="toctree-l3"><a class="reference internal" href="#float">Float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#double">Double</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statuscode">StatusCode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#array-handling">Array handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#builtin-types-part-2">Builtin Types, Part 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#string">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetime">DateTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guid">Guid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bytestring">ByteString</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xmlelement">XmlElement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nodeid">NodeId</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expandednodeid">ExpandedNodeId</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qualifiedname">QualifiedName</a></li>
<li class="toctree-l3"><a class="reference internal" href="#localizedtext">LocalizedText</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensionobject">ExtensionObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variant">Variant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datavalue">DataValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diagnosticinfo">DiagnosticInfo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generic-type-handling">Generic Type Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#random-number-generator">Random Number Generator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">Standard-Defined Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="client_highlevel.html">Highlevel Client Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal.html">Internals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">open62541</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Data Types</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/types.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-types">
<h1>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h1>
<p>In open62541, all data types share the same basic API for creation, copying
and deletion. The header ua_types.h defines the builtin types. In addition,
we auto-generate ua_types_generated.h with additional types as well as the
following function definitions for all (builtin and generated) data types
<code class="docutils literal"><span class="pre">T</span></code>.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">void</span> <span class="pre">T_init(T</span> <span class="pre">*ptr)</span></code></dt>
<dd>Initialize the data type. This is synonymous with zeroing out the memory,
i.e. <code class="docutils literal"><span class="pre">memset(dataptr,</span> <span class="pre">0,</span> <span class="pre">sizeof(T))</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">T*</span> <span class="pre">T_new()</span></code></dt>
<dd>Allocate and return the memory for the data type. The memory is already initialized.</dd>
<dt><code class="docutils literal"><span class="pre">UA_StatusCode</span> <span class="pre">T_copy(const</span> <span class="pre">T</span> <span class="pre">*src,</span> <span class="pre">T</span> <span class="pre">*dst)</span></code></dt>
<dd>Copy the content of the data type. Returns <code class="docutils literal"><span class="pre">UA_STATUSCODE_GOOD</span></code> or
<code class="docutils literal"><span class="pre">UA_STATUSCODE_BADOUTOFMEMORY</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">void</span> <span class="pre">T_deleteMembers(T</span> <span class="pre">*ptr)</span></code></dt>
<dd>Delete the dynamically allocated content of the data type, but not the data type itself.</dd>
<dt><code class="docutils literal"><span class="pre">void</span> <span class="pre">T_delete(T</span> <span class="pre">*ptr)</span></code></dt>
<dd>Delete the content of the data type and the memory for the data type itself.</dd>
</dl>
<p>OPC UA defines 25 builtin data types. All other data types are combinations
of the 25 builtin data types.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#define UA_BUILTIN_TYPES_COUNT 25U</span>
</pre></div>
</div>
<div class="section" id="builtin-types-part-1">
<h2>Builtin Types Part 1<a class="headerlink" href="#builtin-types-part-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="boolean">
<h3>Boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<p>A two-state logical value (true or false).</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">bool</span> <span class="n">UA_Boolean</span><span class="p">;</span>
<span class="cp">#define UA_TRUE true</span>
<span class="cp">#define UA_FALSE false</span>
</pre></div>
</div>
</div>
<div class="section" id="sbyte">
<h3>SByte<a class="headerlink" href="#sbyte" title="Permalink to this headline">¶</a></h3>
<p>An integer value between -128 and 127.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int8_t</span> <span class="n">UA_SByte</span><span class="p">;</span>
<span class="cp">#define UA_SBYTE_MAX 127</span>
<span class="cp">#define UA_SBYTE_MIN (-128)</span>
</pre></div>
</div>
</div>
<div class="section" id="byte">
<h3>Byte<a class="headerlink" href="#byte" title="Permalink to this headline">¶</a></h3>
<p>An integer value between 0 and 256.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint8_t</span> <span class="n">UA_Byte</span><span class="p">;</span>
<span class="cp">#define UA_BYTE_MAX 256</span>
<span class="cp">#define UA_BYTE_MIN 0</span>
</pre></div>
</div>
</div>
<div class="section" id="int16">
<h3>Int16<a class="headerlink" href="#int16" title="Permalink to this headline">¶</a></h3>
<p>An integer value between -32 768 and 32 767.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int16_t</span> <span class="n">UA_Int16</span><span class="p">;</span>
<span class="cp">#define UA_INT16_MAX 32767</span>
<span class="cp">#define UA_INT16_MIN (-32768)</span>
</pre></div>
</div>
</div>
<div class="section" id="uint16">
<h3>UInt16<a class="headerlink" href="#uint16" title="Permalink to this headline">¶</a></h3>
<p>An integer value between 0 and 65 535.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint16_t</span> <span class="n">UA_UInt16</span><span class="p">;</span>
<span class="cp">#define UA_UINT16_MAX 65535</span>
<span class="cp">#define UA_UINT16_MIN 0</span>
</pre></div>
</div>
</div>
<div class="section" id="int32">
<h3>Int32<a class="headerlink" href="#int32" title="Permalink to this headline">¶</a></h3>
<p>An integer value between -2 147 483 648 and 2 147 483 647.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int32_t</span> <span class="n">UA_Int32</span><span class="p">;</span>
<span class="cp">#define UA_INT32_MAX 2147483647</span>
<span class="cp">#define UA_INT32_MIN (-2147483648)</span>
</pre></div>
</div>
</div>
<div class="section" id="uint32">
<h3>UInt32<a class="headerlink" href="#uint32" title="Permalink to this headline">¶</a></h3>
<p>An integer value between 0 and 4 294 967 295.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint32_t</span> <span class="n">UA_UInt32</span><span class="p">;</span>
<span class="cp">#define UA_UINT32_MAX 4294967295</span>
<span class="cp">#define UA_UINT32_MIN 0</span>
</pre></div>
</div>
</div>
<div class="section" id="int64">
<h3>Int64<a class="headerlink" href="#int64" title="Permalink to this headline">¶</a></h3>
<p>An integer value between -10 223 372 036 854 775 808 and 9 223 372 036 854 775 807.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int64_t</span> <span class="n">UA_Int64</span><span class="p">;</span>
<span class="cp">#define UA_INT64_MAX (int64_t)9223372036854775807</span>
<span class="cp">#define UA_INT64_MIN ((int64_t)-9223372036854775808)</span>
</pre></div>
</div>
</div>
<div class="section" id="uint64">
<h3>UInt64<a class="headerlink" href="#uint64" title="Permalink to this headline">¶</a></h3>
<p>An integer value between 0 and 18 446 744 073 709 551 615.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint64_t</span> <span class="n">UA_UInt64</span><span class="p">;</span>
<span class="cp">#define UA_UINT64_MAX (int64_t)18446744073709551615</span>
<span class="cp">#define UA_UINT64_MIN (int64_t)0</span>
</pre></div>
</div>
</div>
<div class="section" id="float">
<h3>Float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p>An IEEE single precision (32 bit) floating point value.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">float</span> <span class="n">UA_Float</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="double">
<h3>Double<a class="headerlink" href="#double" title="Permalink to this headline">¶</a></h3>
<p>An IEEE double precision (64 bit) floating point value.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">double</span> <span class="n">UA_Double</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="statuscode">
<span id="id1"></span><h3>StatusCode<a class="headerlink" href="#statuscode" title="Permalink to this headline">¶</a></h3>
<p>A numeric identifier for a error or condition that is associated with a value or an
operation. See the section <a class="reference internal" href="constants.html#statuscodes"><span class="std std-ref">StatusCodes</span></a> for the meaning of a specific code.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint32_t</span> <span class="n">UA_StatusCode</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="array-handling">
<h2>Array handling<a class="headerlink" href="#array-handling" title="Permalink to this headline">¶</a></h2>
<p>In OPC UA, arrays can have a length of zero or more with the usual meaning.
In addition, arrays can be undefined. Then, they don&#8217;t even have a length. In
the binary encoding, this is indicated by an array of length -1.</p>
<p>In open62541 however, we use <code class="docutils literal"><span class="pre">size_t</span></code> for array lengths. An undefined array
has length 0 and the data pointer is NULL. An array of length 0 also has
length 0 but points to a sentinel memory address.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#define UA_EMPTY_ARRAY_SENTINEL ((void*)0x01)</span>
</pre></div>
</div>
<p>Forward Declaration of UA_DataType. See Section <a class="reference internal" href="#generic-type-handling">Generic Type Handling</a></p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">UA_DataType</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">UA_DataType</span> <span class="n">UA_DataType</span><span class="p">;</span>
</pre></div>
</div>
<p>The following functions are used for handling arrays of any data type.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cm">/* Allocates and initializes an array of variables of a specific type</span>
<span class="cm"> *</span>
<span class="cm"> * @param size The requested array length</span>
<span class="cm"> * @param type The datatype description</span>
<span class="cm"> * @return Returns the memory location of the variable or (void*)0 if no memory</span>
<span class="cm">           could be allocated */</span>
<span class="kt">void</span> <span class="o">*</span> <span class="nf">UA_Array_new</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Allocates and copies an array</span>
<span class="cm"> *</span>
<span class="cm"> * @param src The memory location of the source array</span>
<span class="cm"> * @param size The size of the array</span>
<span class="cm"> * @param dst The location of the pointer to the new array</span>
<span class="cm"> * @param type The datatype of the array members</span>
<span class="cm"> * @return Returns UA_STATUSCODE_GOOD or UA_STATUSCODE_BADOUTOFMEMORY */</span>
<span class="n">UA_StatusCode</span> <span class="nf">UA_Array_copy</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Deletes an array.</span>
<span class="cm"> *</span>
<span class="cm"> * @param p The memory location of the array</span>
<span class="cm"> * @param size The size of the array</span>
<span class="cm"> * @param type The datatype of the array members */</span>
<span class="kt">void</span> <span class="nf">UA_Array_delete</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="builtin-types-part-2">
<h2>Builtin Types, Part 2<a class="headerlink" href="#builtin-types-part-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="string">
<h3>String<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<p>A sequence of Unicode characters. Strings are just an array of UA_Byte.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">size_t</span> <span class="n">length</span><span class="p">;</span> <span class="cm">/* The length of the string */</span>
    <span class="n">UA_Byte</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span> <span class="cm">/* The content (not null-terminated) */</span>
<span class="p">}</span> <span class="n">UA_String</span><span class="p">;</span>

<span class="cm">/* Copies the content on the heap. Returns a null-string when alloc fails */</span>
<span class="n">UA_String</span> <span class="nf">UA_String_fromChars</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span> <span class="n">src</span><span class="p">[]);</span>

<span class="n">UA_Boolean</span> <span class="nf">UA_String_equal</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_String</span> <span class="o">*</span><span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_String</span> <span class="o">*</span><span class="n">s2</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">const</span> <span class="n">UA_String</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">UA_STRING</span></code> returns a string pointing to the preallocated char-array.
<code class="docutils literal"><span class="pre">UA_STRING_ALLOC</span></code> is shorthand for <code class="docutils literal"><span class="pre">UA_String_fromChars</span></code> and makes a copy
of the char-array.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_String</span>
<span class="nf">UA_STRING</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_String</span> <span class="n">str</span><span class="p">;</span> <span class="n">str</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span>
    <span class="n">str</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">UA_Byte</span><span class="o">*</span><span class="p">)</span><span class="n">chars</span><span class="p">;</span> <span class="k">return</span> <span class="n">str</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#define UA_STRING_ALLOC(CHARS) UA_String_fromChars(CHARS)</span>
</pre></div>
</div>
</div>
<div class="section" id="datetime">
<h3>DateTime<a class="headerlink" href="#datetime" title="Permalink to this headline">¶</a></h3>
<p>An instance in time. A DateTime value is encoded as a 64-bit signed integer
which represents the number of 100 nanosecond intervals since January 1, 1601
(UTC).</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int64_t</span> <span class="n">UA_DateTime</span><span class="p">;</span>

<span class="cm">/* Multiply to convert units for time difference computations */</span>
<span class="cp">#define UA_USEC_TO_DATETIME 10LL</span>
<span class="cp">#define UA_MSEC_TO_DATETIME (UA_USEC_TO_DATETIME * 1000LL)</span>
<span class="cp">#define UA_SEC_TO_DATETIME (UA_MSEC_TO_DATETIME * 1000LL)</span>

<span class="cm">/* Datetime of 1 Jan 1970 00:00 UTC */</span>
<span class="cp">#define UA_DATETIME_UNIX_EPOCH (11644473600LL * UA_SEC_TO_DATETIME)</span>

<span class="cm">/* The current time */</span>
<span class="n">UA_DateTime</span> <span class="nf">UA_DateTime_now</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/* CPU clock invariant to system time changes. Use only for time diffs, not current time */</span>
<span class="n">UA_DateTime</span> <span class="nf">UA_DateTime_nowMonotonic</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">UA_DateTimeStruct</span> <span class="p">{</span>
    <span class="n">UA_UInt16</span> <span class="n">nanoSec</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">microSec</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">milliSec</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">sec</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">min</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">hour</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">day</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">month</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">year</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_DateTimeStruct</span><span class="p">;</span>

<span class="n">UA_DateTimeStruct</span> <span class="nf">UA_DateTime_toStruct</span><span class="p">(</span><span class="n">UA_DateTime</span> <span class="n">t</span><span class="p">);</span>

<span class="n">UA_String</span> <span class="nf">UA_DateTime_toString</span><span class="p">(</span><span class="n">UA_DateTime</span> <span class="n">t</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="guid">
<h3>Guid<a class="headerlink" href="#guid" title="Permalink to this headline">¶</a></h3>
<p>A 16 byte value that can be used as a globally unique identifier.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_UInt32</span> <span class="n">data1</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">data2</span><span class="p">;</span>
    <span class="n">UA_UInt16</span> <span class="n">data3</span><span class="p">;</span>
    <span class="n">UA_Byte</span>   <span class="n">data4</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">}</span> <span class="n">UA_Guid</span><span class="p">;</span>

<span class="n">UA_Boolean</span> <span class="nf">UA_Guid_equal</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_Guid</span> <span class="o">*</span><span class="n">g1</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_Guid</span> <span class="o">*</span><span class="n">g2</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="bytestring">
<h3>ByteString<a class="headerlink" href="#bytestring" title="Permalink to this headline">¶</a></h3>
<p>A sequence of octets.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="n">UA_String</span> <span class="n">UA_ByteString</span><span class="p">;</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_Boolean</span>
<span class="nf">UA_ByteString_equal</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_ByteString</span> <span class="o">*</span><span class="n">string1</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_ByteString</span> <span class="o">*</span><span class="n">string2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">UA_String_equal</span><span class="p">((</span><span class="k">const</span> <span class="n">UA_String</span><span class="o">*</span><span class="p">)</span><span class="n">string1</span><span class="p">,</span> <span class="p">(</span><span class="k">const</span> <span class="n">UA_String</span><span class="o">*</span><span class="p">)</span><span class="n">string2</span><span class="p">);</span> <span class="p">}</span>

<span class="cm">/* Allocates memory of size length for the bytestring. The content is not set to zero. */</span>
<span class="n">UA_StatusCode</span> <span class="nf">UA_ByteString_allocBuffer</span><span class="p">(</span><span class="n">UA_ByteString</span> <span class="o">*</span><span class="n">bs</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">const</span> <span class="n">UA_ByteString</span> <span class="n">UA_BYTESTRING_NULL</span><span class="p">;</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ByteString</span>
<span class="nf">UA_BYTESTRING</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ByteString</span> <span class="n">str</span><span class="p">;</span> <span class="n">str</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span>
    <span class="n">str</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">UA_Byte</span><span class="o">*</span><span class="p">)</span><span class="n">chars</span><span class="p">;</span> <span class="k">return</span> <span class="n">str</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ByteString</span>
<span class="nf">UA_BYTESTRING_ALLOC</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">UA_String_fromChars</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="n">UA_ByteString</span> <span class="n">bstr</span><span class="p">;</span>
    <span class="n">bstr</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">bstr</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">data</span><span class="p">;</span> <span class="k">return</span> <span class="n">bstr</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="xmlelement">
<h3>XmlElement<a class="headerlink" href="#xmlelement" title="Permalink to this headline">¶</a></h3>
<p>An XML element.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="n">UA_String</span> <span class="n">UA_XmlElement</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="nodeid">
<h3>NodeId<a class="headerlink" href="#nodeid" title="Permalink to this headline">¶</a></h3>
<p>An identifier for a node in the address space of an OPC UA Server.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="n">UA_NodeIdType</span> <span class="p">{</span>
    <span class="n">UA_NODEIDTYPE_NUMERIC</span>    <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="cm">/* In the binary encoding, this can also become 1 or 2</span>
<span class="cm">                                     (2byte and 4byte encoding of small numeric nodeids) */</span>
    <span class="n">UA_NODEIDTYPE_STRING</span>     <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">UA_NODEIDTYPE_GUID</span>       <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">UA_NODEIDTYPE_BYTESTRING</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">};</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_UInt16</span> <span class="n">namespaceIndex</span><span class="p">;</span>
    <span class="k">enum</span> <span class="n">UA_NodeIdType</span> <span class="n">identifierType</span><span class="p">;</span>
    <span class="k">union</span> <span class="p">{</span>
        <span class="n">UA_UInt32</span>     <span class="n">numeric</span><span class="p">;</span>
        <span class="n">UA_String</span>     <span class="n">string</span><span class="p">;</span>
        <span class="n">UA_Guid</span>       <span class="n">guid</span><span class="p">;</span>
        <span class="n">UA_ByteString</span> <span class="n">byteString</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">identifier</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_NodeId</span><span class="p">;</span>

<span class="k">extern</span> <span class="k">const</span> <span class="n">UA_NodeId</span> <span class="n">UA_NODEID_NULL</span><span class="p">;</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_Boolean</span>
<span class="nf">UA_NodeId_isNull</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_NodeId</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">namespaceIndex</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
            <span class="n">p</span><span class="o">-&gt;</span><span class="n">identifierType</span> <span class="o">==</span> <span class="n">UA_NODEIDTYPE_NUMERIC</span> <span class="o">&amp;&amp;</span>
            <span class="n">p</span><span class="o">-&gt;</span><span class="n">identifier</span><span class="p">.</span><span class="n">numeric</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">UA_Boolean</span> <span class="nf">UA_NodeId_equal</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_NodeId</span> <span class="o">*</span><span class="n">n1</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_NodeId</span> <span class="o">*</span><span class="n">n2</span><span class="p">);</span>
</pre></div>
</div>
<p>The following functions are shorthand for creating NodeIds.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_NUMERIC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="n">UA_UInt32</span> <span class="n">identifier</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_NUMERIC</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">numeric</span> <span class="o">=</span> <span class="n">identifier</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_STRING</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_STRING</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">string</span> <span class="o">=</span> <span class="n">UA_STRING</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_STRING_ALLOC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_STRING</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">string</span> <span class="o">=</span> <span class="n">UA_STRING_ALLOC</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_GUID</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="n">UA_Guid</span> <span class="n">guid</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_GUID</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">guid</span> <span class="o">=</span> <span class="n">guid</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_BYTESTRING</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_BYTESTRING</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">byteString</span> <span class="o">=</span> <span class="n">UA_BYTESTRING</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_NodeId</span>
<span class="nf">UA_NODEID_BYTESTRING_ALLOC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifierType</span> <span class="o">=</span> <span class="n">UA_NODEIDTYPE_BYTESTRING</span><span class="p">;</span>
    <span class="n">id</span><span class="p">.</span><span class="n">identifier</span><span class="p">.</span><span class="n">byteString</span> <span class="o">=</span> <span class="n">UA_BYTESTRING_ALLOC</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="expandednodeid">
<h3>ExpandedNodeId<a class="headerlink" href="#expandednodeid" title="Permalink to this headline">¶</a></h3>
<p>A NodeId that allows the namespace URI to be specified instead of an index.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_NodeId</span> <span class="n">nodeId</span><span class="p">;</span>
    <span class="n">UA_String</span> <span class="n">namespaceUri</span><span class="p">;</span>
    <span class="n">UA_UInt32</span> <span class="n">serverIndex</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_ExpandedNodeId</span><span class="p">;</span>
</pre></div>
</div>
<p>The following functions are shorthand for creating ExpandedNodeIds.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_NUMERIC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="n">UA_UInt32</span> <span class="n">identifier</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_NUMERIC</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">identifier</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_STRING</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_STRING</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">chars</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_STRING_ALLOC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_STRING_ALLOC</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">chars</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_STRING_GUID</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="n">UA_Guid</span> <span class="n">guid</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_GUID</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">guid</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_BYTESTRING</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_BYTESTRING</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">chars</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_ExpandedNodeId</span>
<span class="nf">UA_EXPANDEDNODEID_BYTESTRING_ALLOC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_ExpandedNodeId</span> <span class="n">id</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">nodeId</span> <span class="o">=</span> <span class="n">UA_NODEID_BYTESTRING_ALLOC</span><span class="p">(</span><span class="n">nsIndex</span><span class="p">,</span> <span class="n">chars</span><span class="p">);</span>
    <span class="n">id</span><span class="p">.</span><span class="n">serverIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">id</span><span class="p">.</span><span class="n">namespaceUri</span> <span class="o">=</span> <span class="n">UA_STRING_NULL</span><span class="p">;</span> <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="qualifiedname">
<h3>QualifiedName<a class="headerlink" href="#qualifiedname" title="Permalink to this headline">¶</a></h3>
<p>A name qualified by a namespace.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_UInt16</span> <span class="n">namespaceIndex</span><span class="p">;</span>
    <span class="n">UA_String</span> <span class="n">name</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_QualifiedName</span><span class="p">;</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_QualifiedName</span>
<span class="nf">UA_QUALIFIEDNAME</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_QualifiedName</span> <span class="n">qn</span><span class="p">;</span> <span class="n">qn</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">qn</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">UA_STRING</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">qn</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_QualifiedName</span>
<span class="nf">UA_QUALIFIEDNAME_ALLOC</span><span class="p">(</span><span class="n">UA_UInt16</span> <span class="n">nsIndex</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">chars</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_QualifiedName</span> <span class="n">qn</span><span class="p">;</span> <span class="n">qn</span><span class="p">.</span><span class="n">namespaceIndex</span> <span class="o">=</span> <span class="n">nsIndex</span><span class="p">;</span>
    <span class="n">qn</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">UA_STRING_ALLOC</span><span class="p">(</span><span class="n">chars</span><span class="p">);</span> <span class="k">return</span> <span class="n">qn</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="localizedtext">
<h3>LocalizedText<a class="headerlink" href="#localizedtext" title="Permalink to this headline">¶</a></h3>
<p>Human readable text with an optional locale identifier.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_String</span> <span class="n">locale</span><span class="p">;</span>
    <span class="n">UA_String</span> <span class="n">text</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_LocalizedText</span><span class="p">;</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_LocalizedText</span>
<span class="nf">UA_LOCALIZEDTEXT</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">locale</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_LocalizedText</span> <span class="n">lt</span><span class="p">;</span> <span class="n">lt</span><span class="p">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">UA_STRING</span><span class="p">(</span><span class="n">locale</span><span class="p">);</span>
    <span class="n">lt</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">UA_STRING</span><span class="p">(</span><span class="n">text</span><span class="p">);</span> <span class="k">return</span> <span class="n">lt</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_LocalizedText</span>
<span class="nf">UA_LOCALIZEDTEXT_ALLOC</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">locale</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UA_LocalizedText</span> <span class="n">lt</span><span class="p">;</span> <span class="n">lt</span><span class="p">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">UA_STRING_ALLOC</span><span class="p">(</span><span class="n">locale</span><span class="p">);</span>
    <span class="n">lt</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">UA_STRING_ALLOC</span><span class="p">(</span><span class="n">text</span><span class="p">);</span> <span class="k">return</span> <span class="n">lt</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="extensionobject">
<h3>ExtensionObject<a class="headerlink" href="#extensionobject" title="Permalink to this headline">¶</a></h3>
<p>ExtensionObjects may contain scalars of any data type. Even those that are
unknown to the receiver. See the Section <a class="reference internal" href="#generic-type-handling">Generic Type Handling</a> on how
types are described. An ExtensionObject always contains the NodeId of the
Data Type. If the data cannot be decoded, we keep the encoded string and the
NodeId.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="k">enum</span> <span class="p">{</span>
        <span class="n">UA_EXTENSIONOBJECT_ENCODED_NOBODY</span>     <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">UA_EXTENSIONOBJECT_ENCODED_BYTESTRING</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">UA_EXTENSIONOBJECT_ENCODED_XML</span>        <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">UA_EXTENSIONOBJECT_DECODED</span>            <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">UA_EXTENSIONOBJECT_DECODED_NODELETE</span>   <span class="o">=</span> <span class="mi">4</span> <span class="cm">/* Don&#39;t delete the decoded content</span>
<span class="cm">                                                     at the lifecycle end */</span>
    <span class="p">}</span> <span class="n">encoding</span><span class="p">;</span>
    <span class="k">union</span> <span class="p">{</span>
        <span class="k">struct</span> <span class="p">{</span>
            <span class="n">UA_NodeId</span> <span class="n">typeId</span><span class="p">;</span>   <span class="cm">/* The nodeid of the datatype */</span>
            <span class="n">UA_ByteString</span> <span class="n">body</span><span class="p">;</span> <span class="cm">/* The bytestring of the encoded data */</span>
        <span class="p">}</span> <span class="n">encoded</span><span class="p">;</span>
        <span class="k">struct</span> <span class="p">{</span>
            <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">;</span>
            <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
        <span class="p">}</span> <span class="n">decoded</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">content</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_ExtensionObject</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="variant">
<h3>Variant<a class="headerlink" href="#variant" title="Permalink to this headline">¶</a></h3>
<p>Variants may contain data of any type. See the Section <a class="reference internal" href="#generic-type-handling">Generic Type
Handling</a> on how types are described. If the data is not of one of the 25
builtin types, it will be encoded as an <a class="reference internal" href="#extensionobject">ExtensionObject</a> on the wire. (The
standard says that a variant is a union of the built-in types. open62541
generalizes this to any data type by transparently de- and encoding
ExtensionObjects in the background. If the decoding fails, the variant
contains the original ExtensionObject.)</p>
<p>Variants can contain a single scalar or an array. For details on the handling
of arrays, see the Section <a class="reference internal" href="#array-handling">Array Handling</a>. Array variants can have an
additional dimensionality (matrix, 3-tensor, ...) defined in an array of
dimension sizes. Higher rank dimensions are serialized first.</p>
<p>The differentiation between variants containing a scalar, an array or no data
is as follows:</p>
<ul class="simple">
<li>arrayLength == 0 &amp;&amp; data == NULL: no existing data</li>
<li>arrayLength == 0 &amp;&amp; data == UA_EMPTY_ARRAY_SENTINEL: array of length 0</li>
<li>arrayLength == 0 &amp;&amp; data &gt; UA_EMPTY_ARRAY_SENTINEL: scalar value</li>
<li>arrayLength &gt; 0: array of the given length</li>
</ul>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">;</span> <span class="cm">/* The data type description */</span>
    <span class="k">enum</span> <span class="p">{</span>
        <span class="n">UA_VARIANT_DATA</span><span class="p">,</span>          <span class="cm">/* The data has the same lifecycle as the variant */</span>
        <span class="n">UA_VARIANT_DATA_NODELETE</span><span class="p">,</span> <span class="cm">/* The data is &quot;borrowed&quot; by the variant and shall not be</span>
<span class="cm">                                     deleted at the end of the variant&#39;s lifecycle. */</span>
    <span class="p">}</span> <span class="n">storageType</span><span class="p">;</span>
    <span class="kt">size_t</span> <span class="n">arrayLength</span><span class="p">;</span>  <span class="c1">// The number of elements in the data array</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span> <span class="c1">// Points to the scalar or array data</span>
    <span class="kt">size_t</span> <span class="n">arrayDimensionsSize</span><span class="p">;</span> <span class="c1">// The number of dimensions the data-array has</span>
    <span class="n">UA_Int32</span> <span class="o">*</span><span class="n">arrayDimensions</span><span class="p">;</span> <span class="c1">// The length of each dimension of the data-array</span>
<span class="p">}</span> <span class="n">UA_Variant</span><span class="p">;</span>

<span class="cm">/* Returns true if the variant contains a scalar value. Note that empty variants contain</span>
<span class="cm"> * an array of length -1 (undefined).</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @return Does the variant contain a scalar value. */</span>
<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="n">UA_Boolean</span>
<span class="nf">UA_Variant_isScalar</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">arrayLength</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="o">-&gt;</span><span class="n">data</span> <span class="o">&gt;</span> <span class="n">UA_EMPTY_ARRAY_SENTINEL</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Set the variant to a scalar value that already resides in memory. The value takes on</span>
<span class="cm"> * the lifecycle of the variant and is deleted with it.</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param p A pointer to the value data</span>
<span class="cm"> * @param type The datatype of the value in question */</span>
<span class="kt">void</span> <span class="nf">UA_Variant_setScalar</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">UA_RESTRICT</span> <span class="n">p</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Set the variant to a scalar value that is copied from an existing variable.</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param p A pointer to the value data</span>
<span class="cm"> * @param type The datatype of the value</span>
<span class="cm"> * @return Indicates whether the operation succeeded or returns an error code */</span>
<span class="n">UA_StatusCode</span> <span class="nf">UA_Variant_setScalarCopy</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Set the variant to an array that already resides in memory. The array takes on the</span>
<span class="cm"> * lifecycle of the variant and is deleted with it.</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param array A pointer to the array data</span>
<span class="cm"> * @param arraySize The size of the array</span>
<span class="cm"> * @param type The datatype of the array */</span>
<span class="kt">void</span>
<span class="nf">UA_Variant_setArray</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">UA_RESTRICT</span> <span class="n">array</span><span class="p">,</span>
                    <span class="kt">size_t</span> <span class="n">arraySize</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Set the variant to an array that is copied from an existing array.</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param array A pointer to the array data</span>
<span class="cm"> * @param arraySize The size of the array</span>
<span class="cm"> * @param type The datatype of the array</span>
<span class="cm"> * @return Indicates whether the operation succeeded or returns an error code */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_Variant_setArrayCopy</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span>
                        <span class="kt">size_t</span> <span class="n">arraySize</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>NumericRanges are used to indicate subsets of a (multidimensional) variant
array. NumericRange has no official type structure in the standard. On the
wire, it only exists as an encoded string, such as &#8220;1:2,0:3,5&#8221;. The colon
separates min/max index and the comma separates dimensions. A single value
indicates a range with a single element (min==max).</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">size_t</span> <span class="n">dimensionsSize</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">UA_NumericRangeDimension</span> <span class="p">{</span>
        <span class="n">UA_UInt32</span> <span class="n">min</span><span class="p">;</span>
        <span class="n">UA_UInt32</span> <span class="n">max</span><span class="p">;</span>
    <span class="p">}</span> <span class="o">*</span><span class="n">dimensions</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_NumericRange</span><span class="p">;</span>

<span class="cm">/* Copy the variant, but use only a subset of the (multidimensional) array into a variant.</span>
<span class="cm"> * Returns an error code if the variant is not an array or if the indicated range does not</span>
<span class="cm"> * fit.</span>
<span class="cm"> *</span>
<span class="cm"> * @param src The source variant</span>
<span class="cm"> * @param dst The target variant</span>
<span class="cm"> * @param range The range of the copied data</span>
<span class="cm"> * @return Returns UA_STATUSCODE_GOOD or an error code */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_Variant_copyRange</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_Variant</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="n">UA_Variant</span> <span class="o">*</span><span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_NumericRange</span> <span class="n">range</span><span class="p">);</span>

<span class="cm">/* Insert a range of data into an existing variant. The data array can&#39;t be reused afterwards if it</span>
<span class="cm"> * contains types without a fixed size (e.g. strings) since the members are moved into the variant</span>
<span class="cm"> * and take on its lifecycle.</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param dataArray The data array. The type must match the variant</span>
<span class="cm"> * @param dataArraySize The length of the data array. This is checked to match the range size.</span>
<span class="cm"> * @param range The range of where the new data is inserted</span>
<span class="cm"> * @return Returns UA_STATUSCODE_GOOD or an error code */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_Variant_setRange</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">UA_RESTRICT</span> <span class="n">array</span><span class="p">,</span>
                    <span class="kt">size_t</span> <span class="n">arraySize</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_NumericRange</span> <span class="n">range</span><span class="p">);</span>

<span class="cm">/* Deep-copy a range of data into an existing variant.</span>
<span class="cm"> *</span>
<span class="cm"> * @param v The variant</span>
<span class="cm"> * @param dataArray The data array. The type must match the variant</span>
<span class="cm"> * @param dataArraySize The length of the data array. This is checked to match the range size.</span>
<span class="cm"> * @param range The range of where the new data is inserted</span>
<span class="cm"> * @return Returns UA_STATUSCODE_GOOD or an error code */</span>
<span class="n">UA_StatusCode</span>
<span class="nf">UA_Variant_setRangeCopy</span><span class="p">(</span><span class="n">UA_Variant</span> <span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span>
                        <span class="kt">size_t</span> <span class="n">arraySize</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_NumericRange</span> <span class="n">range</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="datavalue">
<h3>DataValue<a class="headerlink" href="#datavalue" title="Permalink to this headline">¶</a></h3>
<p>A data value with an associated status code and timestamps.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasValue</span>             <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasStatus</span>            <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasSourceTimestamp</span>   <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasServerTimestamp</span>   <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasSourcePicoseconds</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasServerPicoseconds</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Variant</span>    <span class="n">value</span><span class="p">;</span>
    <span class="n">UA_StatusCode</span> <span class="n">status</span><span class="p">;</span>
    <span class="n">UA_DateTime</span>   <span class="n">sourceTimestamp</span><span class="p">;</span>
    <span class="n">UA_UInt16</span>     <span class="n">sourcePicoseconds</span><span class="p">;</span>
    <span class="n">UA_DateTime</span>   <span class="n">serverTimestamp</span><span class="p">;</span>
    <span class="n">UA_UInt16</span>     <span class="n">serverPicoseconds</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_DataValue</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="diagnosticinfo">
<h3>DiagnosticInfo<a class="headerlink" href="#diagnosticinfo" title="Permalink to this headline">¶</a></h3>
<p>A structure that contains detailed error and diagnostic information
associated with a StatusCode.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="n">UA_DiagnosticInfo</span> <span class="p">{</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasSymbolicId</span>          <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasNamespaceUri</span>        <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasLocalizedText</span>       <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasLocale</span>              <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasAdditionalInfo</span>      <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasInnerStatusCode</span>     <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Boolean</span>    <span class="nl">hasInnerDiagnosticInfo</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">UA_Int32</span>      <span class="n">symbolicId</span><span class="p">;</span>
    <span class="n">UA_Int32</span>      <span class="n">namespaceUri</span><span class="p">;</span>
    <span class="n">UA_Int32</span>      <span class="n">localizedText</span><span class="p">;</span>
    <span class="n">UA_Int32</span>      <span class="n">locale</span><span class="p">;</span>
    <span class="n">UA_String</span>     <span class="n">additionalInfo</span><span class="p">;</span>
    <span class="n">UA_StatusCode</span> <span class="n">innerStatusCode</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">UA_DiagnosticInfo</span> <span class="o">*</span><span class="n">innerDiagnosticInfo</span><span class="p">;</span>
<span class="p">}</span> <span class="n">UA_DiagnosticInfo</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="generic-type-handling">
<h2>Generic Type Handling<a class="headerlink" href="#generic-type-handling" title="Permalink to this headline">¶</a></h2>
<p>The builtin types can be combined to data structures. All information about a
(structured) data type is stored in a <code class="docutils literal"><span class="pre">UA_DataType</span></code>. The array <code class="docutils literal"><span class="pre">UA_TYPES</span></code>
contains the description of all standard-defined types and is used for
handling of generic types.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
<span class="cp">#ifdef UA_ENABLE_TYPENAMES</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">memberName</span><span class="p">;</span>
<span class="cp">#endif</span>
    <span class="n">UA_UInt16</span> <span class="n">memberTypeIndex</span><span class="p">;</span>    <span class="cm">/* Index of the member in the array of data types */</span>
    <span class="n">UA_Byte</span>   <span class="n">padding</span><span class="p">;</span>            <span class="cm">/* How much padding is there before this member element?</span>
<span class="cm">                                     For arrays this is the padding before the size_t</span>
<span class="cm">                                     lenght member. (No padding between size_t and the</span>
<span class="cm">                                     following ptr.) */</span>
    <span class="n">UA_Boolean</span> <span class="nl">namespaceZero</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* The type of the member is defined in namespace zero.</span>
<span class="cm">                                     In this implementation, types from custom namespace</span>
<span class="cm">                                     may contain members from the same namespace or ns0</span>
<span class="cm">                                     only.*/</span>
    <span class="n">UA_Boolean</span> <span class="nl">isArray</span>       <span class="p">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* The member is an array */</span>
<span class="p">}</span> <span class="n">UA_DataTypeMember</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">UA_DataType</span> <span class="p">{</span>
<span class="cp">#ifdef UA_ENABLE_TYPENAMES</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">typeName</span><span class="p">;</span>
<span class="cp">#endif</span>
    <span class="n">UA_NodeId</span>  <span class="n">typeId</span><span class="p">;</span>           <span class="cm">/* The nodeid of the type */</span>
    <span class="n">UA_UInt16</span>  <span class="n">memSize</span><span class="p">;</span>          <span class="cm">/* Size of the struct in memory */</span>
    <span class="n">UA_UInt16</span>  <span class="n">typeIndex</span><span class="p">;</span>        <span class="cm">/* Index of the type in the datatypetable */</span>
    <span class="n">UA_Byte</span>    <span class="n">membersSize</span><span class="p">;</span>      <span class="cm">/* How many members does the type have? */</span>
    <span class="n">UA_Boolean</span> <span class="nl">builtin</span>      <span class="p">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* The type is &quot;builtin&quot; and has dedicated de- and</span>
<span class="cm">                                    encoding functions */</span>
    <span class="n">UA_Boolean</span> <span class="nl">fixedSize</span>    <span class="p">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* The type (and its members) contains no pointers */</span>
    <span class="n">UA_Boolean</span> <span class="nl">overlayable</span>  <span class="p">:</span> <span class="mi">1</span><span class="p">;</span> <span class="cm">/* The type has the identical memory layout in</span>
<span class="cm">                                    memory and on the binary stream. */</span>
    <span class="n">UA_DataTypeMember</span> <span class="o">*</span><span class="n">members</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The following functions are used for generic handling of data types.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cm">/* Allocates and initializes a variable of type dataType</span>
<span class="cm"> *</span>
<span class="cm"> * @param type The datatype description</span>
<span class="cm"> * @return Returns the memory location of the variable or (void*)0 if no memory is available */</span>
<span class="kt">void</span> <span class="o">*</span> <span class="nf">UA_new</span><span class="p">(</span><span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Initializes a variable to default values</span>
<span class="cm"> *</span>
<span class="cm"> * @param p The memory location of the variable</span>
<span class="cm"> * @param type The datatype description */</span>
<span class="k">static</span> <span class="n">UA_INLINE</span> <span class="kt">void</span>
<span class="nf">UA_init</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">type</span><span class="o">-&gt;</span><span class="n">memSize</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Copies the content of two variables. If copying fails (e.g. because no memory was</span>
<span class="cm"> * available for an array), then dst is emptied and initialized to prevent memory leaks.</span>
<span class="cm"> *</span>
<span class="cm"> * @param src The memory location of the source variable</span>
<span class="cm"> * @param dst The memory location of the destination variable</span>
<span class="cm"> * @param type The datatype description</span>
<span class="cm"> * @return Indicates whether the operation succeeded or returns an error code */</span>
<span class="n">UA_StatusCode</span> <span class="nf">UA_copy</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Deletes the dynamically allocated content of a variable (e.g. resets all arrays to</span>
<span class="cm"> * undefined arrays). Afterwards, the variable can be safely deleted without causing</span>
<span class="cm"> * memory leaks. But the variable is not initialized and may contain old data that is not</span>
<span class="cm"> * memory-relevant.</span>
<span class="cm"> *</span>
<span class="cm"> * @param p The memory location of the variable</span>
<span class="cm"> * @param type The datatype description of the variable */</span>
<span class="kt">void</span> <span class="nf">UA_deleteMembers</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="cm">/* Frees a variable and all of its content.</span>
<span class="cm"> *</span>
<span class="cm"> * @param p The memory location of the variable</span>
<span class="cm"> * @param type The datatype description of the variable */</span>
<span class="kt">void</span> <span class="nf">UA_delete</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="k">const</span> <span class="n">UA_DataType</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="random-number-generator">
<h2>Random Number Generator<a class="headerlink" href="#random-number-generator" title="Permalink to this headline">¶</a></h2>
<p>If UA_ENABLE_MULTITHREADING is defined, then the seed is stored in thread local
storage. The seed is initialized for every thread in the server/client.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">UA_random_seed</span><span class="p">(</span><span class="n">UA_UInt64</span> <span class="n">seed</span><span class="p">);</span>
<span class="n">UA_UInt32</span> <span class="nf">UA_UInt32_random</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span> <span class="cm">/* do not use for cryptographic entropy */</span>
<span class="n">UA_Guid</span> <span class="nf">UA_Guid_random</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span> <span class="cm">/* do not use for cryptographic entropy */</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="constants.html" class="btn btn-neutral float-right" title="Standard-Defined Constants" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial_noderelations.html" class="btn btn-neutral" title="Examining and interacting with node relations" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The open62541 authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>