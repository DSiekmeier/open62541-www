<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>UA_DataSource Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">UA_DataSource Struct Reference<div class="ingroups"><a class="el" href="group__server.html">Server</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ua__server_8h_source.html">ua_server.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a6ae0c43ceaa04826d23967e574c2272f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a></td></tr>
<tr class="separator:a6ae0c43ceaa04826d23967e574c2272f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0cbd78ebb8f674d9a156ba846f3c4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ua__statuscodes_8h.html#a82f92964aaa5dd1c5a1c5d7e9099883c">UA_StatusCode</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUA__DataSource.html#abc0cbd78ebb8f674d9a156ba846f3c4f">read</a> )(void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, <a class="el" href="group__types.html#ga9a1800cf448ad57727ab920aa254a1a4">UA_Boolean</a> includeSourceTimeStamp, const <a class="el" href="group__types.html#structUA__NumericRange">UA_NumericRange</a> *range, <a class="el" href="group__types.html#structUA__DataValue">UA_DataValue</a> *value)</td></tr>
<tr class="memdesc:abc0cbd78ebb8f674d9a156ba846f3c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><blockquote class="doxtable">
<p>A custom pointer to reuse the same datasource functions for multiple sources </p>
</blockquote>
 <a href="#abc0cbd78ebb8f674d9a156ba846f3c4f">More...</a><br /></td></tr>
<tr class="separator:abc0cbd78ebb8f674d9a156ba846f3c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f9bd464b32c557a9b969eff92e1d23e"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUA__DataSource.html#a1f9bd464b32c557a9b969eff92e1d23e">release</a> )(void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, <a class="el" href="group__types.html#structUA__DataValue">UA_DataValue</a> *value)</td></tr>
<tr class="separator:a1f9bd464b32c557a9b969eff92e1d23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50cb3048c256b9e954eb835bd0167a61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ua__statuscodes_8h.html#a82f92964aaa5dd1c5a1c5d7e9099883c">UA_StatusCode</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUA__DataSource.html#a50cb3048c256b9e954eb835bd0167a61">write</a> )(void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, const <a class="el" href="group__types.html#structUA__Variant">UA_Variant</a> *data, const <a class="el" href="group__types.html#structUA__NumericRange">UA_NumericRange</a> *range)</td></tr>
<tr class="separator:a50cb3048c256b9e954eb835bd0167a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Datasources are the interface to local data providers. Implementors of datasources need to provide functions for the callbacks in this structure. After every read, the handle needs to be released to indicate that the pointer is no longer accessed. As a rule, datasources are never copied, but only their content. The only way to write into a datasource is via the write-service.</p>
<p>It is expected that the read and release callbacks are implemented. The write callback can be set to null. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a6ae0c43ceaa04826d23967e574c2272f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* UA_DataSource::handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc0cbd78ebb8f674d9a156ba846f3c4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ua__statuscodes_8h.html#a82f92964aaa5dd1c5a1c5d7e9099883c">UA_StatusCode</a>(* UA_DataSource::read) (void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, <a class="el" href="group__types.html#ga9a1800cf448ad57727ab920aa254a1a4">UA_Boolean</a> includeSourceTimeStamp, const <a class="el" href="group__types.html#structUA__NumericRange">UA_NumericRange</a> *range, <a class="el" href="group__types.html#structUA__DataValue">UA_DataValue</a> *value)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><blockquote class="doxtable">
<p>A custom pointer to reuse the same datasource functions for multiple sources </p>
</blockquote>
</p>
<p>Read current data from the data source</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An optional pointer to user-defined data for the specific data source </td></tr>
    <tr><td class="paramname">includeSourceTimeStamp</td><td>If true, then the datasource is expected to set the source timestamp in the returned value </td></tr>
    <tr><td class="paramname">range</td><td>If not null, then the datasource shall return only a selection of the (nonscalar) data. Set UA_STATUSCODE_BADINDEXRANGEINVALID in the value if this does not apply. </td></tr>
    <tr><td class="paramname">value</td><td>The (non-null) DataValue that is returned to the client. The data source sets the read data, the result status and optionally a sourcetimestamp. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a status code for logging. Error codes intended for the original caller are set in the value. If an error is returned, then no releasing of the value is done. </dd></dl>

</div>
</div>
<a class="anchor" id="a1f9bd464b32c557a9b969eff92e1d23e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* UA_DataSource::release) (void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, <a class="el" href="group__types.html#structUA__DataValue">UA_DataValue</a> *value)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release data that was allocated during a read (and/or release locks in the data source)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An optional pointer to user-defined data for the specific data source </td></tr>
    <tr><td class="paramname">value</td><td>The DataValue that was used for a successful read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a50cb3048c256b9e954eb835bd0167a61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ua__statuscodes_8h.html#a82f92964aaa5dd1c5a1c5d7e9099883c">UA_StatusCode</a>(* UA_DataSource::write) (void *<a class="el" href="structUA__DataSource.html#a6ae0c43ceaa04826d23967e574c2272f">handle</a>, const <a class="el" href="group__types.html#structUA__Variant">UA_Variant</a> *data, const <a class="el" href="group__types.html#structUA__NumericRange">UA_NumericRange</a> *range)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write into a data source. The write member of <a class="el" href="structUA__DataSource.html">UA_DataSource</a> can be empty if the operation is unsupported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An optional pointer to user-defined data for the specific data source </td></tr>
    <tr><td class="paramname">data</td><td>The data to be written into the data source </td></tr>
    <tr><td class="paramname">range</td><td>An optional data range. If the data source is scalar or does not support writing of ranges, then an error code is returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a status code that is returned to the user </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/jpfr/software/open62541/include/<a class="el" href="ua__server_8h_source.html">ua_server.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 10 2015 11:21:02 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
